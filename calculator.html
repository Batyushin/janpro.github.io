<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —â–∏—Ç–∞ | –°—Ç—Ä–æ–π–ø–ª–æ—â–∞–¥–∫–∞</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="site/styles.css">
    <link rel="icon" type="image/x-icon" href="site/favicon.ico" />
    <script src="site/metrics.js"></script>

    <style>
        /* --- –°–¢–ò–õ–ò –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–†–ê --- */
        .calc-card-wrapper {
            background: rgba(15, 10, 10, 0.6);
            border: 1px solid var(--border-color);
            border-radius: 24px;
            padding: 30px;
            display: flex; flex-direction: column; gap: 0;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(40px);
            position: relative;
        }

        .calc-header {
            text-align: center; margin: -30px -30px 0 -30px; padding: 30px 30px 25px 30px;
            display: flex; flex-direction: column; align-items: center;
        }
        .calc-title-row { display: flex; align-items: center; justify-content: center; gap: 15px; margin-bottom: 8px; }
        .calc-title-icon { width: 40px; height: 40px; }
        .calc-title { margin: 0; font-size: 2rem; font-weight: 900; color: #fff; }
        .calc-subtitle { margin: 0; color: #aaa; font-size: 1rem; }

        .calc-section {
            padding: 25px 0; display: flex; flex-direction: column; gap: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .calc-section:last-child { border-bottom: none; }
        .calc-section.hidden { display: none; }

        .section-header { display: flex; align-items: center; gap: 15px; min-width: 200px; }
        .section-number {
            display: flex; align-items: center; justify-content: center;
            width: 32px; height: 32px; border: 2px solid var(--accent); border-radius: 50%;
            color: var(--accent); font-size: 1.1rem; font-weight: 900; flex-shrink: 0;
        }
        .section-title { font-size: 1.1rem; font-weight: 700; color: #fff; }

        .options-grid { display: grid; grid-template-columns: 1fr; gap: 12px; width: 100%; }

        @media (min-width: 900px) {
            .calc-section { flex-direction: row; align-items: flex-start; }
            .section-header { padding-top: 10px; min-width: 250px; }
            .options-grid { grid-template-columns: repeat(3, 1fr); }
            .options-grid.small-grid { grid-template-columns: repeat(4, 1fr); }
            /* –°–ø–µ—Ü —Å—Ç–∏–ª—å –¥–ª—è 2 –∫–æ–ª–æ–Ω–æ–∫ */
            .options-grid.two-cols { grid-template-columns: repeat(2, 1fr); }
        }

        /* --- –ö–ê–†–¢–û–ß–ö–ò --- */
        .option-label { cursor: pointer; position: relative; display: block; width: 100%; }
        .option-label.hidden { display: none; }
        .option-input { position: absolute; width: 1px; height: 1px; margin: -1px; padding: 0; overflow: hidden; clip: rect(0, 0, 0, 0); border: 0; }

        .option-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px; padding: 15px;
            display: flex; align-items: center; gap: 15px;
            transition: all 0.3s ease; height: 100%; min-height: 70px;
        }

        .option-label:hover .option-card { background: rgba(255, 255, 255, 0.1); border-color: rgba(255, 255, 255, 0.3); }

        .option-marker {
            width: 20px; height: 20px; border-radius: 50%;
            border: 2px solid rgba(255,255,255,0.3); flex-shrink: 0; position: relative;
        }
        .option-marker::after {
            content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0);
            width: 10px; height: 10px; background: #fff; border-radius: 50%; transition: transform 0.2s;
        }
        .checkbox-mode .option-marker { border-radius: 4px; }
        .checkbox-mode .option-marker::after { border-radius: 2px; }

        .option-input:checked + .option-card {
            background: rgba(40, 10, 10, 0.6); border-color: var(--accent);
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.15);
        }
        .option-input:checked + .option-card .option-marker { border-color: var(--accent); background: var(--accent); }
        .option-input:checked + .option-card .option-marker::after { transform: translate(-50%, -50%) scale(1); }

        .option-input:disabled + .option-card { opacity: 0.4; cursor: not-allowed; filter: grayscale(1); }

        .option-content { display: flex; flex-direction: column; }
        .option-text { color: #fff; font-weight: 700; font-size: 0.95rem; line-height: 1.2; }
        .option-sub { font-size: 0.8rem; color: #888; margin-top: 4px; }

        /* --- SELECT --- */
        .styled-select-wrapper { position: relative; width: 100%; display: block; }
        .styled-select-wrapper.disabled { opacity: 0.3; pointer-events: none; }

        .styled-select {
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #fff;
            padding: 15px; border-radius: 12px;
            font-size: 1rem; font-family: 'Roboto', sans-serif;
            appearance: none; -webkit-appearance: none; -moz-appearance: none;
            cursor: pointer; transition: 0.3s;
        }
        .styled-select:focus { outline: none; border-color: var(--accent); background: rgba(0,0,0,0.3); }
        .styled-select option { background: #1a1a1a; color: #fff; padding: 10px; }

        .styled-select-wrapper::after {
            content: '‚ñº'; position: absolute; right: 15px; top: 0; bottom: 0; margin: auto;
            height: 1em; line-height: 1; color: var(--accent); font-size: 0.8rem; pointer-events: none;
        }

        /* --- –ò–¢–û–ì --- */
        .total-sticky {
            position: sticky; bottom: 20px; z-index: 100;
            background: rgba(15, 10, 10, 0.8);
            border: 1px solid var(--border-color);
            backdrop-filter: blur(20px); border-radius: 24px;
            padding: 20px 25px; margin-top: 20px;
            display: flex; flex-direction: column; align-items: center; text-align: center;
        }
        .total-price { font-size: 2.8rem; font-weight: 900; color: #fff; margin: 0 0 15px 0; text-shadow: 0 0 20px rgba(255,255,255,0.1); }
        .social-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; width: 100%; max-width: 500px; }

        .calc-social-btn {
            display: flex; align-items: center; justify-content: center; gap: 10px;
            padding: 12px; border-radius: 16px; color: #fff; font-weight: 700;
            background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.15);
            transition: 0.3s;
        }
        .calc-social-btn:hover { background: rgba(40, 10, 10, 0.6); border-color: var(--accent); }
        .calc-social-btn img { width: 24px; height: 24px; }

        @media (max-width: 600px) {
            .total-price { font-size: 2.2rem; }
        }
    </style>
</head>
<body>

<div class="bg-depth"></div>
<div class="container">

    <div id="header-container"></div>
    <div id="menu-container"></div>

    <div class="card calc-card-wrapper">
        <div class="calc-header">
            <div class="calc-title-row">
                <svg class="calc-title-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="appleSilverGrad1" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#FFFFFF" />
                            <stop offset="100%" style="stop-color:#C0C8D8" />
                        </linearGradient>
                    </defs>
                    <rect x="4" y="2" width="16" height="20" rx="4" fill="url(#appleSilverGrad1)"/>
                    <rect x="7" y="6" width="10" height="3" rx="1.5" fill="#080808" opacity="0.3"/>
                    <circle cx="8.5" cy="13.5" r="1.5" fill="#080808" opacity="0.4"/>
                    <circle cx="12" cy="13.5" r="1.5" fill="#080808" opacity="0.4"/>
                    <circle cx="15.5" cy="13.5" r="1.5" fill="#080808" opacity="0.4"/>
                    <circle cx="8.5" cy="17" r="1.5" fill="#080808" opacity="0.4"/>
                    <circle cx="12" cy="17" r="1.5" fill="#080808" opacity="0.4"/>
                    <circle cx="15.5" cy="17" r="1.5" fill="#080808" opacity="0.4"/>
                </svg>
                <h2 class="calc-title">–û–Ω–ª–∞–π–Ω-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h2>
            </div>
            <p class="calc-subtitle">–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞</p>
        </div>

        <form id="calcForm" onchange="calculate()">

            <div class="calc-section">
                <div class="section-header"><div class="section-number">1</div><div class="section-title">–≠–ª–µ–∫—Ç—Ä–∏–∫–∞</div></div>
                <div class="options-grid">
                    <label class="option-label">
                        <input type="radio" name="budget" value="low" class="option-input">
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–ë–∞–∑–æ–≤—ã–π</span><span class="option-sub">DEKraft</span></div></div>
                    </label>
                    <label class="option-label">
                        <input type="radio" name="budget" value="mid" class="option-input" checked>
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π</span><span class="option-sub">Sity9Set / EKF</span></div></div>
                    </label>
                    <label class="option-label">
                        <input type="radio" name="budget" value="high" class="option-input">
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–ü—Ä–µ–º–∏—É–º</span><span class="option-sub">Systeme 9</span></div></div>
                    </label>
                </div>
            </div>

            <div class="calc-section">
                <div class="section-header"><div class="section-number">2</div><div class="section-title">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —â–∏—Ç–∞</div></div>
                <div class="options-grid">
                    <label class="option-label">
                        <input type="radio" name="case_type" value="in" class="option-input" checked>
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–í—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π</span><span class="option-sub">–í –Ω–∏—à—É</span></div></div>
                    </label>
                    <label class="option-label">
                        <input type="radio" name="case_type" value="out" class="option-input">
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–ù–∞–∫–ª–∞–¥–Ω–æ–π</span><span class="option-sub">–ù–∞ —Å—Ç–µ–Ω—É</span></div></div>
                    </label>
                </div>
            </div>

            <div class="calc-section">
                <div class="section-header"><div class="section-number">3</div><div class="section-title">–£–º–Ω—ã–π –¥–æ–º</div></div>
                <div class="options-grid">
                    <label class="option-label">
                        <input type="radio" name="system_type" value="classic" class="option-input" checked>
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–ö–ª–∞—Å—Å–∏–∫–∞</span><span class="option-sub">–û–±—ã—á–Ω—ã–π —â–∏—Ç</span></div></div>
                    </label>
                    <label class="option-label">
                        <input type="radio" name="system_type" value="zigbee" class="option-input">
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–£–º–Ω—ã–π (Zigbee)</span><span class="option-sub">–ë–µ—Å–ø—Ä–æ–≤–æ–¥–Ω–æ–π</span></div></div>
                    </label>
                    <label class="option-label">
                        <input type="radio" name="system_type" value="wirenboard" class="option-input">
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">WirenBoard</span><span class="option-sub">–ü—Ä–æ–≤–æ–¥–Ω–æ–π (Pro)</span></div></div>
                    </label>
                    <label class="option-label">
                        <input type="radio" name="system_type" value="loxone" class="option-input">
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">Loxone</span><span class="option-sub">Luxury (–ê–≤—Å—Ç—Ä–∏—è)</span></div></div>
                    </label>
                </div>
            </div>

            <div class="calc-section">
                <div class="section-header"><div class="section-number">4</div><div class="section-title">–í–≤–æ–¥</div></div>
                <div class="options-grid">
                    <label class="option-label">
                        <input type="radio" name="voltage" value="1phase" class="option-input" checked>
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">1 –§–∞–∑–∞ (230–í)</span><span class="option-sub">–ö–≤–∞—Ä—Ç–∏—Ä–∞</span></div></div>
                    </label>
                    <label class="option-label">
                        <input type="radio" name="voltage" value="3phase" class="option-input">
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">3 –§–∞–∑—ã (400–í)</span><span class="option-sub">–î–æ–º / –ú–æ—â–Ω–∞—è –∫–≤.</span></div></div>
                    </label>
                </div>
            </div>

            <div class="calc-section">
                <div class="section-header"><div class="section-number">5</div><div class="section-title">–û–±—ä–µ–∫—Ç</div></div>
                <div style="width: 100%; display: flex; flex-direction: column; gap: 12px;">
                    <div class="options-grid two-cols">
                        <label class="option-label">
                            <input type="radio" name="obj_type" value="apartment" class="option-input" checked>
                            <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–ö–≤–∞—Ä—Ç–∏—Ä–∞</span></div></div>
                        </label>
                        <label class="option-label">
                            <input type="radio" name="obj_type" value="house" class="option-input">
                            <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–ß–∞—Å—Ç–Ω—ã–π –¥–æ–º</span></div></div>
                        </label>
                    </div>

                    <div class="options-grid">
                        <div class="styled-select-wrapper">
                            <select name="area" class="styled-select">
                                <option value="50">–î–æ 50 –º¬≤</option>
                                <option value="100" selected>50 - 100 –º¬≤</option>
                                <option value="160">100 - 160 –º¬≤</option>
                                <option value="250">160 - 250 –º¬≤</option>
                                <option value="500">250 - 500 –º¬≤</option>
                                <option value="1000">500 - 1000 –º¬≤</option>
                                <option value="max">–ë–æ–ª–µ–µ 1000 –º¬≤</option>
                            </select>
                        </div>
                        <div class="styled-select-wrapper">
                            <select name="rooms_count" class="styled-select">
                                <option value="1">1 –∫–æ–º–Ω–∞—Ç–∞</option>
                                <option value="2">2 –∫–æ–º–Ω–∞—Ç—ã</option>
                                <option value="3" selected>3 –∫–æ–º–Ω–∞—Ç—ã</option>
                                <option value="4">4 –∫–æ–º–Ω–∞—Ç—ã</option>
                                <option value="5">5 –∫–æ–º–Ω–∞—Ç</option>
                                <option value="6">6 –∫–æ–º–Ω–∞—Ç</option>
                                <option value="7">7 –∫–æ–º–Ω–∞—Ç</option>
                                <option value="8">8 –∫–æ–º–Ω–∞—Ç</option>
                                <option value="9">9 –∫–æ–º–Ω–∞—Ç</option>
                                <option value="10">10 –∫–æ–º–Ω–∞—Ç</option>
                                <option value="11">10+ –∫–æ–º–Ω–∞—Ç</option>
                            </select>
                        </div>
                        <div class="styled-select-wrapper">
                            <select name="wc_count" class="styled-select">
                                <option value="1" selected>1 —Å–∞–Ω—É–∑–µ–ª</option>
                                <option value="2">2 —Å–∞–Ω—É–∑–ª–∞</option>
                                <option value="3">3 —Å–∞–Ω—É–∑–ª–∞</option>
                                <option value="4">4 —Å–∞–Ω—É–∑–ª–∞</option>
                                <option value="5">5+ —Å–∞–Ω—É–∑–ª–æ–≤</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <div class="calc-section checkbox-mode">
                <div class="section-header"><div class="section-number">6</div><div class="section-title">–û–ø—Ü–∏–∏ —â–∏—Ç–∞</div></div>
                <div class="options-grid">
                    <label class="option-label classic-only">
                        <input type="checkbox" name="opt_vacation" value="yes" class="option-input">
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–†—É–±–∏–ª—å–Ω–∏–∫ ¬´–û—Ç–ø—É—Å–∫¬ª</span><span class="option-sub">–í—ã–∫–ª. –≤—Å—ë –ª–∏—à–Ω–µ–µ</span></div></div>
                    </label>

                    <label class="option-label">
                        <input type="checkbox" name="opt_unswitched" value="yes" class="option-input">
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–ù–µ–æ—Ç–∫–ª—é—á–∞–µ–º—ã–µ –≥—Ä—É–ø–ø—ã</span><span class="option-sub">–•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫, –†–æ—É—Ç–µ—Ä</span></div></div>
                    </label>

                    <label class="option-label classic-only">
                        <input type="checkbox" name="opt_master" value="yes" class="option-input">
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–ú–∞—Å—Ç–µ—Ä-–∫–Ω–æ–ø–∫–∞</span><span class="option-sub">–ù–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ—Ä–µ</span></div></div>
                    </label>

                    <label class="option-label classic-only">
                        <input type="checkbox" name="opt_fan" value="yes" class="option-input">
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–†–µ–ª–µ –≤—Ä–µ–º–µ–Ω–∏</span><span class="option-sub">–ù–∞ –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä—ã –°–£</span></div></div>
                    </label>

                    <label class="option-label" id="priorityRelayBlock">
                        <input type="checkbox" name="opt_priority" value="yes" class="option-input" disabled>
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–†–µ–ª–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞</span><span class="option-sub">–¢–æ–ª—å–∫–æ –¥–ª—è 3 —Ñ–∞–∑</span></div></div>
                    </label>
                </div>
            </div>

            <div class="calc-section checkbox-mode hidden" id="houseOptionsSection">
                <div class="section-header"><div class="section-number">7</div><div class="section-title">–û–ø—Ü–∏–∏ –¥–æ–º–∞</div></div>
                <div class="options-grid">
                    <label class="option-label">
                        <input type="checkbox" name="h_gen" value="yes" class="option-input">
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–í–≤–æ–¥ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞</span><span class="option-sub">–†—É—á–Ω–æ–π / –ê–í–†</span></div></div>
                    </label>
                    <label class="option-label">
                        <input type="checkbox" name="h_boiler" value="yes" class="option-input">
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–†–µ–∑–µ—Ä–≤–Ω—ã–π –∫–æ—Ç–µ–ª</span><span class="option-sub">–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π</span></div></div>
                    </label>
                    <label class="option-label">
                        <input type="checkbox" name="h_street" value="yes" class="option-input">
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–©–∏—Ç —É–ª–∏—Ü—ã</span><span class="option-sub">–í—ã–≤–æ–¥ –∫–∞–±–µ–ª—è</span></div></div>
                    </label>
                    <label class="option-label">
                        <input type="checkbox" name="h_sauna" value="yes" class="option-input">
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–≠–ª–µ–∫—Ç—Ä–æ—Å–∞—É–Ω–∞</span><span class="option-sub">–ü–µ—á—å / –ü—É–ª—å—Ç</span></div></div>
                    </label>
                    <label class="option-label">
                        <input type="checkbox" name="h_garage" value="yes" class="option-input">
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–ì–∞—Ä–∞–∂ / –ë–∞–Ω—è</span><span class="option-sub">–û—Ç–¥. —Å—Ç—Ä–æ–µ–Ω–∏—è</span></div></div>
                    </label>
                </div>
            </div>

            <div class="calc-section">
                <div class="section-header"><div class="section-number">8</div><div class="section-title">LED –ü–æ–¥—Å–≤–µ—Ç–∫–∞</div></div>
                <div class="options-grid">
                    <div class="styled-select-wrapper">
                        <label style="color: #aaa; font-size: 0.8rem; margin-bottom: 5px; display:block;">–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤ –ø–∏—Ç–∞–Ω–∏—è</label>
                        <select name="led_type" id="ledType" class="styled-select">
                            <option value="none">–ù–µ—Ç –ø–æ–¥—Å–≤–µ—Ç–æ–∫</option>
                            <option value="inside">–í–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ —â–∏—Ç–∞</option>
                            <option value="separate">–í –æ—Ç–¥–µ–ª—å–Ω–æ–º —â–∏—Ç–µ</option>
                            <option value="local">–õ–æ–∫–∞–ª—å–Ω–æ (—É –ª–µ–Ω—Ç)</option>
                        </select>
                    </div>
                    <div class="styled-select-wrapper" id="ledCountWrapper">
                        <label style="color: #aaa; font-size: 0.8rem; margin-bottom: 5px; display:block;">–ö–æ–ª-–≤–æ –∫–æ–Ω—Ç—É—Ä–æ–≤ (–ª–µ–Ω—Ç)</label>
                        <select name="led_count" class="styled-select">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10+</option>
                        </select>
                    </div>
                    <div class="styled-select-wrapper" id="ledDimWrapper">
                        <label style="color: #aaa; font-size: 0.8rem; margin-bottom: 5px; display:block;">–î–∏–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (—è—Ä–∫–æ—Å—Ç—å)</label>
                        <select name="led_dim" class="styled-select">
                            <option value="no">–ù–µ—Ç (–≤–∫–ª/–≤—ã–∫–ª)</option>
                            <option value="yes">–î–∞ (–Ω—É–∂–Ω–æ –¥–∏–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ)</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="calc-section" id="climateSection">
                <div class="section-header"><div class="section-number">9</div><div class="section-title">–ö–ª–∏–º–∞—Ç</div></div>
                <div class="options-grid">
                    <div class="styled-select-wrapper">
                        <label style="color: #aaa; font-size: 0.8rem; margin-bottom: 5px; display:block;">–¢–µ–ø–ª—ã–π –ø–æ–ª (–∫–æ–Ω—Ç—É—Ä–æ–≤)</label>
                        <select name="sh_floor" class="styled-select">
                            <option value="0">–ù–µ—Ç</option>
                            <option value="1">1 –∑–æ–Ω–∞</option>
                            <option value="2">2 –∑–æ–Ω—ã</option>
                            <option value="3">3 –∑–æ–Ω—ã</option>
                            <option value="4">4 –∑–æ–Ω—ã</option>
                            <option value="5">5+ –∑–æ–Ω</option>
                        </select>
                    </div>
                    <div class="styled-select-wrapper">
                        <label style="color: #aaa; font-size: 0.8rem; margin-bottom: 5px; display:block;">–†–∞–¥–∏–∞—Ç–æ—Ä—ã (—à—Ç)</label>
                        <select name="sh_radiator" class="styled-select">
                            <option value="0">–ù–µ—Ç</option>
                            <option value="1">1 —à—Ç</option>
                            <option value="2">2 —à—Ç</option>
                            <option value="3">3 —à—Ç</option>
                            <option value="4">4 —à—Ç</option>
                            <option value="5">5 —à—Ç</option>
                            <option value="6">6+ —à—Ç</option>
                        </select>
                    </div>
                    <div class="styled-select-wrapper">
                        <label style="color: #aaa; font-size: 0.8rem; margin-bottom: 5px; display:block;">–ö–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä—ã (—à—Ç)</label>
                        <select name="ac_count" class="styled-select">
                            <option value="0">–ù–µ—Ç</option>
                            <option value="1">1 —à—Ç</option>
                            <option value="2">2 —à—Ç</option>
                            <option value="3">3 —à—Ç</option>
                            <option value="4">4 —à—Ç</option>
                            <option value="5">5+ —à—Ç</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="calc-section hidden" id="smartOptionsSection">
                <div class="section-header"><div class="section-number">10</div><div class="section-title">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –£–º–Ω–æ–≥–æ –¥–æ–º–∞</div></div>
                <div class="options-grid">
                    <div class="styled-select-wrapper">
                        <label style="color: #aaa; font-size: 0.8rem; margin-bottom: 5px; display:block;">–†–µ–ª–µ–π–Ω—ã–π —Å–≤–µ—Ç</label>
                        <select name="sh_light" class="styled-select">
                            <option value="0">–ù–µ—Ç</option>
                            <option value="3">3 –≥—Ä—É–ø–ø—ã (1 —Ä–µ–ª–µ)</option>
                            <option value="6">6 –≥—Ä—É–ø–ø (2 —Ä–µ–ª–µ)</option>
                            <option value="9">9 –≥—Ä—É–ø–ø (3 —Ä–µ–ª–µ)</option>
                            <option value="12">12 –≥—Ä—É–ø–ø (4 —Ä–µ–ª–µ)</option>
                            <option value="18">18 –≥—Ä—É–ø–ø</option>
                            <option value="24">24+ –≥—Ä—É–ø–ø</option>
                        </select>
                    </div>

                    <div class="styled-select-wrapper">
                        <label style="color: #aaa; font-size: 0.8rem; margin-bottom: 5px; display:block;">–î–∏–º–º–∏—Ä—É–µ–º—ã–π —Å–≤–µ—Ç</label>
                        <select name="sh_light_dim" class="styled-select">
                            <option value="0">–ù–µ—Ç</option>
                            <option value="3">3 –≥—Ä—É–ø–ø—ã</option>
                            <option value="6">6 –≥—Ä—É–ø–ø</option>
                            <option value="9">9 –≥—Ä—É–ø–ø</option>
                            <option value="12">12 –≥—Ä—É–ø–ø</option>
                        </select>
                    </div>

                    <div class="styled-select-wrapper">
                        <label style="color: #aaa; font-size: 0.8rem; margin-bottom: 5px; display:block;">–û—Ç–∫–ª—é—á–∞–µ–º—ã–µ —Ä–æ–∑–µ—Ç–∫–∏</label>
                        <select name="sh_socket" class="styled-select">
                            <option value="0">–ù–µ—Ç</option>
                            <option value="1">1 –≥—Ä—É–ø–ø–∞ (–í—Å—ë —Å—Ä–∞–∑—É)</option>
                            <option value="3">3 –≥—Ä—É–ø–ø—ã</option>
                            <option value="6">6 –≥—Ä—É–ø–ø</option>
                            <option value="9">9 –≥—Ä—É–ø–ø</option>
                            <option value="12">12 –≥—Ä—É–ø–ø</option>
                        </select>
                    </div>
                    <div class="styled-select-wrapper">
                        <label style="color: #aaa; font-size: 0.8rem; margin-bottom: 5px; display:block;">–≠–ª–µ–∫—Ç—Ä–æ–∫–∞—Ä–Ω–∏–∑—ã</label>
                        <select name="sh_curtain" class="styled-select">
                            <option value="0">–ù–µ—Ç</option>
                            <option value="1">1 —à—Ç</option>
                            <option value="2">2 —à—Ç</option>
                            <option value="4">3-4 —à—Ç</option>
                            <option value="6">5-6 —à—Ç</option>
                            <option value="8">–±–æ–ª–µ–µ 6 —à—Ç</option>
                        </select>
                    </div>

                    <label class="option-label checkbox-mode">
                        <input type="checkbox" name="sh_leak" value="yes" class="option-input">
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–ó–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–æ—Ç–µ—á–µ–∫</span><span class="option-sub">–ö—Ä–∞–Ω—ã + –î–∞—Ç—á–∏–∫–∏</span></div></div>
                    </label>

                    <label class="option-label checkbox-mode">
                        <input type="checkbox" name="sh_master_full" value="yes" class="option-input">
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–ú–∞—Å—Ç–µ—Ä-–∫–Ω–æ–ø–∫–∞</span><span class="option-sub">–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ</span></div></div>
                    </label>
                    <label class="option-label checkbox-mode">
                        <input type="checkbox" name="sh_master_local" value="yes" class="option-input">
                        <div class="option-card"><div class="option-marker"></div><div class="option-content"><span class="option-text">–õ–æ–∫–∞–ª—å–Ω—ã–π –º–∞—Å—Ç–µ—Ä</span><span class="option-sub">–ù–∞ –∫–æ–º–Ω–∞—Ç—É</span></div></div>
                    </label>
                </div>
            </div>

        </form>
    </div>

    <div class="total-sticky card" id="totalBlock">
        <div class="total-label">–ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å</div>
        <div class="total-price" id="totalPrice">0 ‚ÇΩ</div>

        <div class="social-grid">
            <a href="#" id="tgLink" target="_blank" class="calc-social-btn">
                <img src="site/img/tg.svg" alt="TG"> Telegram
            </a>
            <a href="#" id="waLink" target="_blank" class="calc-social-btn">
                <img src="site/img/whatsapp.png" alt="WA"> WhatsApp
            </a>
        </div>
        <p style="font-size: 0.75rem; color: var(--text-muted); margin: 15px 0 0 0;">
            *–¶–µ–Ω–∞ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–∞—è. –í–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–±–æ—Ä–∫—É –∏ –∫–æ–º–ø–ª–µ–∫—Ç—É—é—â–∏–µ.
        </p>
    </div>

    <div id="footer-container"></div>
</div>

<script src="site/loader.js"></script>
<script>
    // --- –û–°–ù–û–í–ù–ê–Ø –õ–û–ì–ò–ö–ê –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–†–ê ---
    window.calculate = function() {
        const form = document.getElementById('calcForm');
        const totalEl = document.getElementById('totalPrice');

        // 1. –£–ü–†–ê–í–õ–ï–ù–ò–ï –í–ò–î–ò–ú–û–°–¢–¨–Æ (–î–æ–º/–ö–≤–∞—Ä—Ç–∏—Ä–∞)
        const objType = form.querySelector('input[name="obj_type"]:checked').value;
        const houseSection = document.getElementById('houseOptionsSection');

        if (objType === 'house') {
            houseSection.classList.remove('hidden');
        } else {
            houseSection.classList.add('hidden');
            houseSection.querySelectorAll('input').forEach(el => el.checked = false);
        }

        // 2. –£–ü–†–ê–í–õ–ï–ù–ò–ï –í–ò–î–ò–ú–û–°–¢–¨–Æ (–£–º–Ω—ã–π –¥–æ–º vs –ö–ª–∞—Å—Å–∏–∫–∞)
        const sysType = form.querySelector('input[name="system_type"]:checked').value;
        const smartSection = document.getElementById('smartOptionsSection');
        const classicOnlyOptions = document.querySelectorAll('.classic-only');

        if (sysType === 'classic') {
            // –ï—Å–ª–∏ –∫–ª–∞—Å—Å–∏–∫–∞:
            smartSection.classList.add('hidden'); // –°–∫—Ä—ã–≤–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É–º–Ω–æ–≥–æ –¥–æ–º–∞
            classicOnlyOptions.forEach(el => el.classList.remove('hidden')); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–ø—Ü–∏–∏ –∫–ª–∞—Å—Å–∏–∫–∏
        } else {
            // –ï—Å–ª–∏ –£–º–Ω—ã–π –¥–æ–º:
            smartSection.classList.remove('hidden'); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É–º–Ω–æ–≥–æ –¥–æ–º–∞
            classicOnlyOptions.forEach(el => {
                el.classList.add('hidden'); // –°–∫—Ä—ã–≤–∞–µ–º –æ–ø—Ü–∏–∏ –∫–ª–∞—Å—Å–∏–∫–∏
                el.querySelector('input').checked = false; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è
            });
        }

        // 3. –£–ü–†–ê–í–õ–ï–ù–ò–ï LED (–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª–µ–π)
        const ledType = document.getElementById('ledType').value;
        const ledCountWrapper = document.getElementById('ledCountWrapper');
        const ledDimWrapper = document.getElementById('ledDimWrapper');

        if (ledType === 'none') {
            // –û—Ç–∫–ª—é—á–∞–µ–º
            ledCountWrapper.classList.add('disabled');
            ledDimWrapper.classList.add('disabled');
        } else {
            ledCountWrapper.classList.remove('disabled');
            ledDimWrapper.classList.remove('disabled');
        }


        // 4. –£–ü–†–ê–í–õ–ï–ù–ò–ï –†–ï–õ–ï –ü–†–ò–û–†–ò–¢–ï–¢–ê (–¢–æ–ª—å–∫–æ 3 —Ñ–∞–∑—ã)
        const voltage = form.querySelector('input[name="voltage"]:checked').value;
        const priorityBlock = document.getElementById('priorityRelayBlock');
        const priorityInput = priorityBlock.querySelector('input');

        if (voltage === '3phase') {
            priorityInput.disabled = false;
            priorityBlock.style.opacity = '1';
        } else {
            priorityInput.disabled = true;
            priorityInput.checked = false;
            priorityBlock.style.opacity = '0.5';
        }

        // --- –ë–ê–ó–ê –î–õ–Ø –†–ê–°–ß–ï–¢–ê (–¶–ï–ù–´) ---
        let total = 0;

        // –ë—é–¥–∂–µ—Ç (–º–Ω–æ–∂–∏—Ç–µ–ª—å)
        const budget = form.querySelector('input[name="budget"]:checked').value;
        let multiplier = 1;
        if (budget === 'low') multiplier = 0.8;
        if (budget === 'high') multiplier = 1.4;

        // –°–∏—Å—Ç–µ–º–∞ (–±–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ —Å–±–æ—Ä–∫–∏ + –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ)
        let sysPrice = 20000; // –ö–ª–∞—Å—Å–∏–∫–∞

        // –¶–µ–Ω—ã –∑–∞ —Ç–æ—á–∫—É (–ë–∞–∑–æ–≤—ã–µ –¥–ª—è –ö–ª–∞—Å—Å–∏–∫–∏)
        let pricePerLight = 0;
        let pricePerDimLight = 0;
        let pricePerSocket = 0;
        let pricePerCurtain = 0;
        let pricePerFloor = 3000;     // –ê–≤—Ç–æ–º–∞—Ç + –ª–∏–Ω–∏—è (–ö–ª–∞—Å—Å–∏–∫–∞)
        let pricePerRadiator = 3000;  // –ê–≤—Ç–æ–º–∞—Ç + –ª–∏–Ω–∏—è (–ö–ª–∞—Å—Å–∏–∫–∞)
        let pricePerAC = 3000;        // –ê–≤—Ç–æ–º–∞—Ç + –ª–∏–Ω–∏—è (–ö–ª–∞—Å—Å–∏–∫–∞)
        let priceLeak = 0;

        // –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–µ–Ω –¥–ª—è –£–º–Ω–æ–≥–æ –¥–æ–º–∞
        if (sysType === 'zigbee') {
            sysPrice = 40000;
            pricePerLight = 2000;
            pricePerDimLight = 3500;
            pricePerSocket = 2500;
            pricePerCurtain = 4000;
            pricePerFloor = 3000;     // –†–µ–ª–µ/–¢–µ—Ä–º–æ—Å—Ç–∞—Ç
            pricePerRadiator = 3000;  // –¢–µ—Ä–º–æ–≥–æ–ª–æ–≤–∫–∞/–†–µ–ª–µ
            pricePerAC = 4000;        // –ò–ö —à–ª—é–∑
            priceLeak = 15000;
        } else if (sysType === 'wirenboard') {
            sysPrice = 120000;
            pricePerLight = 6000;
            pricePerDimLight = 9000;
            pricePerSocket = 6000;
            pricePerCurtain = 8000;
            pricePerFloor = 6000;
            pricePerRadiator = 6000;
            pricePerAC = 8000;        // Modbus/–ò–ö
            priceLeak = 30000;
        } else if (sysType === 'loxone') {
            sysPrice = 250000;
            pricePerLight = 12000;
            pricePerDimLight = 18000;
            pricePerSocket = 12000;
            pricePerCurtain = 15000;
            pricePerFloor = 15000;
            pricePerRadiator = 15000;
            pricePerAC = 20000;
            priceLeak = 50000;
        }

        total += sysPrice;

        // –°—á–∏—Ç—ã–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –∫–ª–∏–º–∞—Ç–∞ (–û–Ω–∏ —Ç–µ–ø–µ—Ä—å –æ–±—â–∏–µ)
        const shFloor = parseInt(form.querySelector('select[name="sh_floor"]').value) || 0;
        const shRadiator = parseInt(form.querySelector('select[name="sh_radiator"]').value) || 0;
        const acCount = parseInt(form.querySelector('select[name="ac_count"]').value) || 0;

        total += (shFloor * pricePerFloor);
        total += (shRadiator * pricePerRadiator);
        total += (acCount * pricePerAC);

        // –†–∞—Å—á–µ—Ç –æ–ø—Ü–∏–π –£–º–Ω–æ–≥–æ –¥–æ–º–∞ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ –∫–ª–∞—Å—Å–∏–∫–∞)
        if (sysType !== 'classic') {
            const shLight = parseInt(form.querySelector('select[name="sh_light"]').value) || 0;
            const shLightDim = parseInt(form.querySelector('select[name="sh_light_dim"]').value) || 0;
            const shSocket = parseInt(form.querySelector('select[name="sh_socket"]').value) || 0;
            const shCurtain = parseInt(form.querySelector('select[name="sh_curtain"]').value) || 0;
            const shLeak = form.querySelector('input[name="sh_leak"]:checked') ? 1 : 0;

            total += (shLight * pricePerLight);
            total += (shLightDim * pricePerDimLight);
            total += (shSocket * pricePerSocket);
            total += (shCurtain * pricePerCurtain);
            total += (shLeak * priceLeak);
        }

        // –ü–ª–æ—â–∞–¥—å
        const area = form.querySelector('select[name="area"]').value;
        let areaPrice = 0;
        if(area === '50') areaPrice = 15000;
        else if(area === '100') areaPrice = 30000;
        else if(area === '160') areaPrice = 50000;
        else if(area === '250') areaPrice = 80000;
        else if(area === '500') areaPrice = 120000;
        else areaPrice = 180000;

        total += areaPrice;

        // –ö–æ–º–Ω–∞—Ç—ã –∏ –°–£
        const rooms = parseInt(form.querySelector('select[name="rooms_count"]').value);
        const wc = parseInt(form.querySelector('select[name="wc_count"]').value);
        total += (rooms * 3000) + (wc * 5000);

        // –û–ø—Ü–∏–∏ –æ–±—â–∏–µ
        if(form.querySelector('input[name="opt_vacation"]:checked') && sysType === 'classic') total += 5000;

        // –û–ø—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–ª–∞—Å—Å–∏–∫–∏
        if(sysType === 'classic') {
            if(form.querySelector('input[name="opt_master"]:checked')) total += 7000;
            if(form.querySelector('input[name="opt_fan"]:checked')) total += 3000;
        }

        // –û–ø—Ü–∏—è –ù–µ–æ—Ç–∫–ª—é—á–∞–µ–º—ã–µ –ª–∏–Ω–∏–∏ (–¥–æ—Å—Ç—É–ø–Ω–∞ –≤—Å–µ–º)
        if(form.querySelector('input[name="opt_unswitched"]:checked')) total += 2500;

        if(form.querySelector('input[name="opt_priority"]:checked')) total += 8000;

        // –û–ø—Ü–∏–∏ –¥–æ–º–∞
        if(form.querySelector('input[name="h_gen"]:checked')) total += 15000;
        if(form.querySelector('input[name="h_boiler"]:checked')) total += 5000;
        if(form.querySelector('input[name="h_street"]:checked')) total += 3000;
        if(form.querySelector('input[name="h_sauna"]:checked')) total += 6000;
        if(form.querySelector('input[name="h_garage"]:checked')) total += 10000;

        // LED
        const led = form.querySelector('select[name="led_type"]').value;
        const ledCount = parseInt(form.querySelector('select[name="led_count"]').value) || 0;
        const dim = form.querySelector('select[name="led_dim"]').value;

        if (led !== 'none') {
            if (led === 'inside') total += 15000 + (ledCount * 2500);
            if (led === 'separate') total += 25000 + (ledCount * 2500);
            if (led === 'local') total += (ledCount * 1000);
            if (dim === 'yes') total += 10000 + (ledCount * 2000);
        }

        // –ü—Ä–∏–º–µ–Ω—è–µ–º –±—é–¥–∂–µ—Ç–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å –∫ –∏—Ç–æ–≥–æ–≤–æ–π —Å—É–º–º–µ
        total = Math.round(total * multiplier);

        // –í—ã–≤–æ–¥
        totalEl.textContent = new Intl.NumberFormat('ru-RU').format(total) + ' ‚ÇΩ';
        updateLinks(total, form);
    };

    function updateLinks(price, form) {
        const getVal = (sel) => {
            const el = form.querySelector(sel);
            if (!el) return '-';
            if (el.tagName === 'SELECT') return el.options[el.selectedIndex].text;
            if (el.type === 'radio') {
                const checked = form.querySelector(sel + ':checked');
                return checked ? checked.closest('.option-label').querySelector('.option-text').innerText : '-';
            }
            return '-';
        };

        const getChecks = (containerSel) => {
            // –ë–µ—Ä–µ–º —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ —á–µ–∫–±–æ–∫—Å—ã
            const els = document.querySelectorAll(containerSel + ' input:checked');
            const visibleEls = Array.from(els).filter(el => !el.closest('.option-label').classList.contains('hidden'));
            if (visibleEls.length === 0) return '–ù–µ—Ç';
            return visibleEls.map(el => el.closest('.option-label').querySelector('.option-text').innerText).join(', ');
        };

        const sysType = form.querySelector('input[name="system_type"]:checked').value;

        let msg = `–ü—Ä–∏–≤–µ—Ç! üõ† –ó–∞—è–≤–∫–∞ –Ω–∞ —Ä–∞—Å—á–µ—Ç —â–∏—Ç–∞ –æ—Ç JanPro.ru:\n`;
        msg += `üí∞ –≠–ª–µ–∫—Ç—Ä–∏–∫–∞: ${getVal('input[name="budget"]')}\n`;
        msg += `üì¶ –¢–∏–ø —â–∏—Ç–∞: ${getVal('input[name="case_type"]')} / ${getVal('input[name="system_type"]')}\n`;

        if(sysType !== 'classic') {
            msg += `üß† –£–º–Ω—ã–π –¥–æ–º: –°–≤–µ—Ç: ${getVal('select[name="sh_light"]')}, –î–∏–º–º: ${getVal('select[name="sh_light_dim"]')}, –†–æ–∑–µ—Ç–∫–∏: ${getVal('select[name="sh_socket"]')}, –®—Ç–æ—Ä—ã: ${getVal('select[name="sh_curtain"]')}, –ü—Ä–æ—Ç–µ—á–∫–∏: ${form.querySelector('input[name="sh_leak"]:checked') ? '–î–∞' : '–ù–µ—Ç'}\n`;
            if (form.querySelector('input[name="sh_master_full"]:checked')) msg += `üîò –ú–∞—Å—Ç–µ—Ä-–∫–Ω–æ–ø–∫–∞: –î–∞\n`;
            if (form.querySelector('input[name="sh_master_local"]:checked')) msg += `üîò –õ–æ–∫–∞–ª—å–Ω—ã–µ –º–∞—Å—Ç–µ—Ä-–∫–Ω–æ–ø–∫–∏: –î–∞\n`;
        }

        msg += `‚ö° –í–≤–æ–¥: ${getVal('input[name="voltage"]')} \n`;
        msg += `üè† –û–±—ä–µ–∫—Ç: ${getVal('input[name="obj_type"]')} (${getVal('select[name="area"]')})\n`;
        msg += `üö™ –ö–æ–º–Ω–∞—Ç: ${getVal('select[name="rooms_count"]')}, –°–£: ${getVal('select[name="wc_count"]')}\n`;
        msg += `‚öôÔ∏è –û–ø—Ü–∏–∏: ${getChecks('.calc-section:not(.hidden)')}\n`;

        const ledVal = getVal('select[name="led_type"]');
        if (ledVal !== '–ù–µ—Ç –ø–æ–¥—Å–≤–µ—Ç–æ–∫') {
            msg += `üí° LED: ${ledVal} (${getVal('select[name="led_count"]')}), –î–∏–º–º: ${getVal('select[name="led_dim"]')}\n`;
        } else {
            msg += `üí° LED: –ù–µ—Ç\n`;
        }

        msg += `üå° –ö–ª–∏–º–∞—Ç: –¢–ü: ${getVal('select[name="sh_floor"]')}, –†–∞–¥–∏–∞—Ç–æ—Ä—ã: ${getVal('select[name="sh_radiator"]')}, –ö–æ–Ω–¥: ${getVal('select[name="ac_count"]')}\n`;
        msg += `\nüíµ –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç: ${new Intl.NumberFormat('ru-RU').format(price)} ‚ÇΩ`;

        const encoded = encodeURIComponent(msg);
        document.getElementById('waLink').href = `https://wa.me/79824699434?text=${encoded}`;
        document.getElementById('tgLink').href = `https://t.me/JanPro59?text=${encoded}`;
    }

    if(typeof initPage === 'function') {
        initPage('calculator');
    }
    // –ó–∞–ø—É—Å–∫ —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    document.addEventListener("DOMContentLoaded", calculate);
</script>

</body>
</html>